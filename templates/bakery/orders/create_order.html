<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bakery</title>
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
  <nav>
    <a href="/">Home</a>
    <a href="/bakery">Bakery</a>
    <a href="/pizzarela">Pizzarela</a>
  </nav>
  <main>
    <section class="bakery-side">
    </section>
    <section class="pages-content">
      {% block content %}
        <form action="/bakery/orders" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          {% if errors %}
            {{errors}}
          {% endif %}
      
          <div id="order-items">
            <div id="order-item">
              <div>
                <label for="id_cake">Pastel</label>
                <select name="cake" id="id_cake" required>
                  <option value selected>Selecciona un pastel</option>
                  {% for cake in cakes %}
                  <option value="{{cake.id}}">{{cake.name}} - ${{cake.price}}</option>
                  {% endfor %}
                </select>
              </div>
              <div>
                <label for="id_quantity">Cantidad</label>
                <input type="number" name="quantity" id="id_quantity" min=0 required>
              </div>
              <button type="button" onclick="deleteForm(event)">eliminar</button>
            </div>
          </div>
          <button type="button" onclick="addForm()"> Agregar pastel </button>
          <button type="submit" class="btn btn-primary">Aceptar</button>
      
        </form>
        <script>
          const child = document.getElementById('order-item')
          const cloneChild = child.cloneNode(true)
          
          const addForm = () => {
            const father = document.getElementById('order-items');
            const clone = cloneChild.cloneNode(true)
            father.appendChild(clone)
          }
      
          const deleteForm = event => {
            console.log(event.target.parentElement.remove())
          }
        </script>
      {% endblock content %}
    </section>
  </main>
</body>
</html>
